零 
1 思路类型：分主机和web两大类型。

2 思路：不管是哪个类型，都是两大步四小步。

3 这篇文章着重说工具，网站和插件当然也是工具，但在这里不说，网站详见hack.html，插件就是八大插件。







一 主机漏洞挖掘（这里以一个域名为起点）
（零）全流程（自动化）工具（目前市面上的主机漏洞挖掘自动化工具一般到爆破，第四步的涉及二进制漏洞挖掘工具难以胜任）
0 nmap

1 kscan（其实就是高级nmap）：主要功能是主机指纹搜集、C段扫描、暴力破解，其exp模块正在开发中。
（1）指纹搜集
./kscan_linux_amd64 -t <ip地址>
（2）扫C段
./kscan_linux_amd64 -t<ip地址/24>
（3）结合fuzzdict做爆破
./kscan_linux_amd64 --hydra --hydra-user <user.txt> --hydra-pass <pass.txt>



（一）IP地址
1 -sn：拿IP地址
2 ping
3 dns探测：dig、nslookup、host
注：过CDN。


（二）指纹信息
-O：拿内核版本，根据内核版本查发行版本
-sV：拿开放端口号及对应服务及服务版本（-sS：只拿开放端口号及对应服务，-V：拿CPU架构）



（三）在以上基础上，至少有两类漏洞你可以直接探起来了：
1 根据指纹信息就可以去寻找系统和服务的版本漏洞了。

2 弱口令



（四）继续探测端口号的服务，并开始漏洞挖掘。







二 web漏洞挖掘
（零）全流程（自动化）工具
1 ARL（全面）：https://tophanttechnology.github.io/ARL-doc/



2 mitan：https://github.com/kkbo8005/mitan
（1）对初学者非常友好。
（2）到敏感信息搜集。

3 TscanPlus（相当完备的web渗透全流程工具，美中不足的是：完整poc信息需要vip）：https://github.com/TideSec/TscanPlus/




（一）资产（工具都是关于域名的）：域名、公司名、小程序/公众号、APP、IP地址。
1 subfinder（最经典的子域名搜集工具）：搜集子域名，而且是被动搜集。
（1）https://github.com/projectdiscovery/subfinder
（2）被动搜集子域名的意思是它通过查询公开的网络资源和数据库来发现子域名，而不是直接扫描目标域名或进行主动的探测。这是目前我见过的唯一一款全面被动搜集资产的工具（JSFinder可以通过爬取页面进行搜集，针对性更强），其他都是爆破。
（3）选项：
-d domain
（4）拿到域名后：在https://uutool.cn/url-http/将搜集到的子域名制成url。

2 layer子域名挖掘机：https://www.webshell.cc/6384.html。5.0新版：https://pan.baidu.com/s/lwEP_Ysg4qsFbm_k1aoncpg，uk1j。

3 OneForAll：https://github.com/shmilylty/OneForAll



（二）指纹信息（根据我的经验，工具反而没有插件好）：容器、框架、语言，前两者涉及中间件漏洞。
1 Ehole

2 httpx

3 IISPutScanner：不光能用来搜C段，也可以用来探测web服务器类型和版本，更可以用来探测上传漏洞。



（三）在以上基础上，至少有两类漏洞你可以直接探起来了：
1 中间件漏洞：去谷歌、百度、exp收录网站上查。

2 敏感信息泄露

3 弱口令



（四）web漏洞（下面介绍专门用来poc web漏洞的工具）
1 POC-bomber：
（1）https://github.com/tr0uble-mAker/POC-bomber
（2）用法：python3 pocbomber.py
    模式:
            获取poc/exp信息:   python3 pocbomber.py --show
            单目标检测:        python3 pocbomber.py -u http://xxx.xxx.xx
            批量检测:          python3 pocbomber.py -f url.txt -o report.txt 
            指定poc检测:       python3 pocbomber.py -f url.txt --poc="thinkphp2_rce.py"
            exp攻击模式:       python3 pocbomber.py -u 目标url --poc="指定poc文件" --attack
    参数:
            -u  --url      目标url
            -f  --file     指定目标url文件   
            -o  --output   指定生成报告的文件(默认不生成报告)
            -p  --poc      指定单个或多个poc进行检测, 直接传入poc文件名, 多个poc用(,)分开
            -t  --thread   指定线程池最大并发数量(默认30)
            --show         展示poc/exp详细信息
            --attack       使用poc文件中的exp进行攻击
            --dnslog       使用dnslog平台检测无回显漏洞(默认不启用dnslog,可在配置文件中启用)

2 BBScan
（1）https://github.com/lijiejie/BBScan
（2）python3 BBScan.py
--host <url>
-f <urllist>
（3）在report目录下可以找见漏洞报告（不像pocbomb一样没漏洞就不生成报告，bbscan不管有没有漏洞都会生成报告）。




