内存马要求执行后删除木马文件，这叫自删除。

关键是理解原理即为什么删了以后还能运行？
这就是涉及到我们最开始学习操作系统原理时谈到的进程和程序的区别了：
程序比如一个elf在硬盘上，进程在内存里。
硬盘上的程序到内存中的进程的过程叫加载（loading）。
这里插一句：内存马不考虑虚拟内存，内存马就不可能使用文件作为虚拟内存，内存马是内存越小越好（不管是内存还是硬盘木马这玩意都是越小越好），文件虚拟内存那是程序需要的内存大到离谱了才用。
一旦加载成功，程序文件本身就没用了。
你可能会担心内存不是只有几个G吗？不用担心，几个G已经很大了，一一个普通的进程不可能一直运行（除了服务器进程，所以为什么说服务器程序对硬件要求高），二也就占不了多少内存，很多大型游戏也就占几百M，更不要说木马程序那都是追求短小精悍的。

关于可执行程序如何加载位一个进程，这个问题另说，这需要结合elf等文件结构和不同系统的进程内存模型来说。